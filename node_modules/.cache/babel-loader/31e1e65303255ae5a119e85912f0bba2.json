{"ast":null,"code":"var _jsxFileName = \"E:\\\\Webpage\\\\KTP\\\\ktp-react\\\\src\\\\views\\\\PointsLog.js\";\n// Packages\nimport React, { useState, useEffect } from 'react';\nimport moment from 'moment';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router'; // Bootstrap\n\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport Modal from 'react-bootstrap/Modal';\nimport Row from 'react-bootstrap/Row';\nimport Table from 'react-bootstrap/Table'; // Custom\n\nimport Api from '../services/KTPApi';\nimport Layout from './layouts/Layout';\nimport actions from '../redux/auth/actions';\nimport toastActions from '../redux/toast/actions';\n\nfunction PointsLog(props) {\n  // Component State\n  const [members, setMembers] = useState([]);\n  const [requests, setRequests] = useState([]);\n  const [shouldUpdate, setShouldUpdate] = useState(true);\n  const [roleFilter, setRoleFilter] = useState('Active'); // Modal Visibility\n\n  const [showExcusedModal, setShowExcusedModal] = useState(false);\n  const [showHoursModal, setShowHoursModal] = useState(false);\n  const [showPointsModal, setShowPointsModal] = useState(false);\n  const [showRequestsModal, setShowRequestsModal] = useState(false);\n  const [showHistoryModal, setShowHistoryModal] = useState(false); // Modal State\n\n  const [excuseData, setExcuseData] = useState({\n    date: moment().format('YYYY-MM-DD'),\n    description: ''\n  });\n  const [hoursData, setHoursData] = useState({\n    serviceHours: 1,\n    description: ''\n  });\n  const [pointsData, setPointsData] = useState({\n    points: 1,\n    description: ''\n  });\n  const [historyData, setHistoryData] = useState({\n    memberName: null,\n    history: []\n  });\n  useEffect(() => {\n    // Redirect if not authenticated\n    if (!props.member && !props.isLoading) {\n      props.history.push('/');\n    } // Run API calls in parallel\n    // `shouldUpdate` used to prevent extra API calls\n\n\n    if (shouldUpdate) {\n      Api.getMembers().then(data => setMembers(data.members));\n      Api.getRequests().then(data => setRequests(data.requests));\n      setShouldUpdate(false);\n    }\n  }, [props, shouldUpdate]); // Handles filtering members by role\n\n  const handleFilter = member => {\n    switch (roleFilter) {\n      case 'Active':\n        return member.role !== 'Invactive' && member.role !== 'Alumni';\n\n      case 'Inactive':\n        return member.role === 'Inactive';\n\n      case 'Alumni':\n        return member.role === 'Alumni';\n\n      default:\n        return true;\n    }\n  }; // Closes History Modal and Clears its State\n\n\n  const closeHistory = () => {\n    setHistoryData({\n      memberName: null,\n      history: []\n    });\n    setShowHistoryModal(false);\n    git;\n  }; // Filters requests to create a request history for a given user\n  // Sets History Modal and Data State\n\n\n  const showHistory = memberName => {\n    let history = requests.filter(req => req.submittedBy === memberName && req.approved === 1);\n    setHistoryData({\n      memberName,\n      history\n    });\n    setShowHistoryModal(true);\n  }; // Submit Brotherhood Points Form\n\n\n  const submitPoints = e => {\n    // Prevent form from sending its own HTTP request\n    e.preventDefault(); // Deconstruct fields from pointsData\n\n    const {\n      points,\n      description\n    } = pointsData; // Construct payload object\n\n    let payload = {\n      type: 'Brotherhood Points',\n      value: points,\n      description,\n      submittedBy: props.member.name,\n      submittedById: props.member._id,\n      submittedDate: moment().format('MM-DD-YYYY'),\n      approved: 0\n    }; // Call API to create the request\n\n    Api.createRequest(payload).then(data => {\n      if (data.success) {\n        setRequests([...requests, data.request]);\n        setShowPointsModal(false);\n        props.showToast('success', 'Request Created');\n      } else {\n        props.showToast('error', data.error);\n      }\n    });\n  }; // Submits Service Hours Form\n\n\n  const submitHours = e => {\n    // Prevents form from sending its own HTTP request\n    e.preventDefault(); // Deconstruct fields from hoursData\n\n    const {\n      serviceHours,\n      description\n    } = hoursData; // Construt payload object\n\n    let payload = {\n      type: 'Service Hours',\n      value: serviceHours,\n      description,\n      submittedBy: props.member.name,\n      submittedById: props.member._id,\n      submittedDate: moment().format('MM-DD-YYYY'),\n      approved: 0\n    }; // Call API to create the request\n\n    Api.createRequest(payload).then(data => {\n      if (data.success) {\n        setRequests([...requests, data.request]);\n        setShowHoursModal(false);\n        props.showToast('success', 'Request Created');\n      } else {\n        props.showToast('error', data.error);\n      }\n    });\n  }; // Submits Excused Absence Form\n\n\n  const submitExcuse = e => {\n    // Prevents form from sending its own HTTP request\n    e.preventDefault(); // Deconstruct fields from excuseData\n\n    const {\n      date,\n      description\n    } = excuseData; // Convert date to an int for DB\n\n    let value = parseInt(date.replace(/-/g, '')); // Construct payload object\n\n    let payload = {\n      type: 'Excused Absence',\n      value,\n      description,\n      submittedBy: props.member.name,\n      submittedById: props.member._id,\n      submittedDate: moment().format('MM-DD-YYYY'),\n      approved: 0\n    }; // Call API to create the request\n\n    Api.createRequest(payload).then(data => {\n      if (data.success) {\n        setRequests([...requests, data.request]);\n        setShowExcusedModal(false);\n        props.showToast('success', 'Request Created');\n      } else {\n        props.showToast('error', data.error);\n      }\n    });\n  }; // Handles Denying a Request\n\n\n  const denyRequest = id => {\n    Api.denyRequest(id).then(data => {\n      if (data.success) {\n        props.showToast('success', 'Request Denied');\n        setShouldUpdate(true);\n      } else {\n        props.showToast('error', data.error);\n      }\n    });\n  }; // Handles Accepting a Request\n\n\n  const acceptRequest = id => {\n    Api.acceptRequest(id, {\n      approved: 1\n    }).then(data => {\n      if (data.success) {\n        props.showToast('success', 'Request Accepted');\n        setShouldUpdate(true);\n      } else {\n        props.showToast('error', data.error);\n      }\n    });\n  }; // Only ender requests table if there ae pending requests\n\n\n  let pendingRequests = requests.filter(req => req.approved === 0);\n  let requestModalContent = pendingRequests.length > 0 ? /*#__PURE__*/React.createElement(Table, {\n    size: \"sm\",\n    hover: true,\n    bordered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    style: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, \"Submitted By\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }\n  }, \"Submitted On\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 11\n    }\n  }, \"Type\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 11\n    }\n  }, \"Value\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 11\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }, \"Accept/Deny\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }\n  }, pendingRequests.map(req => /*#__PURE__*/React.createElement(\"tr\", {\n    key: req._id,\n    style: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    \"data-toggle\": \"tooltip\",\n    \"data-placement\": \"top\",\n    title: \"Click for history\",\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: () => showHistory(req.submittedBy),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }\n  }, req.submittedBy), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }\n  }, req.submittedDate), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }\n  }, req.type), req.type === 'Excused Absence' ? /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }, req.value.toString().substring(4, 6), \"/\", req.value.toString().substring(6, 8), \"/\", req.value.toString().substring(0, 4)) : /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 15\n    }\n  }, req.value), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }\n  }, req.description), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-success\",\n    onClick: () => acceptRequest(req._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 15\n    }\n  }, \"Accept\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 15\n    }\n  }, \" \"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-danger\",\n    onClick: () => denyRequest(req._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 15\n    }\n  }, \"Deny\")))))) : /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 5\n    }\n  }, \"No remaining requests\"); // Only render historyModal is data is set\n\n  let historyModal = historyData.memberName && /*#__PURE__*/React.createElement(Modal, {\n    show: showHistoryModal,\n    onHide: closeHistory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    style: {\n      fontSize: 18,\n      fontWeight: 'lighter'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 9\n    }\n  }, \"History of Approved Requests for \", historyData.memberName)), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }\n  }, historyData.history.length > 0 ? /*#__PURE__*/React.createElement(Table, {\n    size: \"sm\",\n    hover: true,\n    bordered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    style: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 17\n    }\n  }, \"Submitted On\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 17\n    }\n  }, \"Type\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 17\n    }\n  }, \"Value\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 17\n    }\n  }, \"Description\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 13\n    }\n  }, historyData.history.map(req => /*#__PURE__*/React.createElement(\"tr\", {\n    key: req._id,\n    style: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 19\n    }\n  }, req.submittedDate), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 19\n    }\n  }, req.type), req.type === 'Excused Absence' ? /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 21\n    }\n  }, req.value.toString().substring(4, 6), \"/\", req.value.toString().substring(6, 8), \"/\", req.value.toString().substring(0, 4)) : /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 21\n    }\n  }, req.value), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 19\n    }\n  }, req.description))))) : /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 11\n    }\n  }, \"No history yet\")), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-secondary\",\n    onClick: closeHistory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 9\n    }\n  }, \"Close\")));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"points-log\",\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ktp-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-20 text-center\",\n    style: {\n      margin: '0 auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"info\",\n    size: \"sm\",\n    onClick: () => setShowExcusedModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 19\n    }\n  }, \"Submit Excused Absence\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 19\n    }\n  }, \" \"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"info\",\n    size: \"sm\",\n    onClick: () => setShowHoursModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 19\n    }\n  }, \"Log Service Hours\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 19\n    }\n  }, \" \"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"info\",\n    size: \"sm\",\n    onClick: () => setShowPointsModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 19\n    }\n  }, \"Log Brotherhood Points\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 19\n    }\n  }, \" \"), props.member && props.member.admin ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    size: \"sm\",\n    onClick: () => setShowRequestsModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 23\n    }\n  }, \"Review Requests\")) : /*#__PURE__*/React.createElement(React.Fragment, null))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    lg: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 21\n    }\n  }, \"Fall 2020 Members\")), /*#__PURE__*/React.createElement(Col, {\n    xs: 7,\n    lg: {\n      span: 1,\n      offset: 4\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 21\n    }\n  }, \"Filter: \")), /*#__PURE__*/React.createElement(Col, {\n    xs: 5,\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    defaultValue: roleFilter,\n    onChange: e => setRoleFilter(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 23\n    }\n  }, \"Active\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 23\n    }\n  }, \"Inactive\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 23\n    }\n  }, \"Alumni\"))))), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      width: '90vw',\n      overflow: 'scroll'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"sm\",\n    style: {\n      color: 'white'\n    },\n    bordered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 23\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 23\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 23\n    }\n  }, \"Brotherhood Points \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 46\n    }\n  }), \" (10 Min / Semester)\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 23\n    }\n  }, \"Service Hours \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 41\n    }\n  }), \" (5 Min / Semester)\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 23\n    }\n  }, \"Unexcused Absences \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 46\n    }\n  }), \"  (2 Max / Semester)\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 23\n    }\n  }, \"Role\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 19\n    }\n  }, members.filter(member => handleFilter(member)).map(member => /*#__PURE__*/React.createElement(\"tr\", {\n    key: member._id,\n    onClick: () => showHistory(member.name),\n    style: {\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 25\n    }\n  }, member.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 25\n    }\n  }, member.email), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 25\n    }\n  }, member.points), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 25\n    }\n  }, member.serviceHours), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 25\n    }\n  }, member.absences), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 25\n    }\n  }, member.role)))))))), /*#__PURE__*/React.createElement(Modal, {\n    show: showExcusedModal,\n    onHide: () => setShowExcusedModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 15\n    }\n  }, \"Submit Excused Absences\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"excuseDate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 19\n    }\n  }, \"Date you'll be missing\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"date\",\n    defaultValue: excuseData.date,\n    onChange: e => setExcuseData({ ...excuseData,\n      date: e.target.value\n    }),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"excuseDescription\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 19\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Why cant you make this event?\",\n    onChange: e => setExcuseData({ ...excuseData,\n      description: e.target.value\n    }),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-secondary\",\n    style: {\n      marginRight: 8\n    },\n    onClick: () => setShowExcusedModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 15\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    onClick: submitExcuse,\n    disabled: !excuseData.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 17\n    }\n  }, \"Submit\"))), /*#__PURE__*/React.createElement(Modal, {\n    show: showHoursModal,\n    onHide: () => setShowHoursModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 15\n    }\n  }, \"Log Service Hours\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"hoursEarned\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 19\n    }\n  }, \"Service Hours Earned\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    defaultValue: hoursData.serviceHours,\n    min: 1,\n    onChange: e => setHoursData({ ...hoursData,\n      serviceHours: e.target.value\n    }),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"hoursDescription\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 19\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"What did you do to earn these service hours?\",\n    onChange: e => setHoursData({ ...hoursData,\n      description: e.target.value\n    }),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-secondary\",\n    style: {\n      marginRight: 8\n    },\n    onClick: () => setShowHoursModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 15\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    onClick: submitHours,\n    disabled: !hoursData.serviceHours || !hoursData.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 15\n    }\n  }, \"Submit\"))), /*#__PURE__*/React.createElement(Modal, {\n    show: showPointsModal,\n    onHide: () => setShowPointsModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 15\n    }\n  }, \"Log Brotherhood Points\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"pointsEarned\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 19\n    }\n  }, \"Points Earned\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"number\",\n    defaultValue: pointsData.points,\n    min: 1,\n    onChange: e => setPointsData({ ...pointsData,\n      points: e.target.value\n    }),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"pointsDescription\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 19\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"What did you do to earn these points?\",\n    onChange: e => setPointsData({ ...pointsData,\n      description: e.target.value\n    }),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    style: {\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 17\n    }\n  }, \"What constitutes a brotherhood point?\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 17\n    }\n  }, \"- Hanging out with other KTP members\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 17\n    }\n  }, \"- Attending a service event\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 17\n    }\n  }, \"- Attending a KTP event with a local company\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 17\n    }\n  }, \"- Attending a hackathon\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 17\n    }\n  }, \"- Going to a KTP social event\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 17\n    }\n  }, \"- Wearing our letters\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 17\n    }\n  }, \"- Contributing to the website\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 17\n    }\n  }, \"- Attending a career fair\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 17\n    }\n  }, \"- Recommend a friend to rush KTP\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 17\n    }\n  }, \"- Anything that benefits and/or spreads the word about our frat\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 520,\n      columnNumber: 17\n    }\n  }, \"Questions about what counts for a brotherhood point? Contact anyone on eboard and submit a request anyways!\"))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-secondary\",\n    style: {\n      marginRight: 8\n    },\n    onClick: () => setShowPointsModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 15\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    onClick: submitPoints,\n    disabled: !pointsData.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 15\n    }\n  }, \"Submit\"))), /*#__PURE__*/React.createElement(Modal, {\n    size: \"lg\",\n    show: showRequestsModal,\n    onHide: () => setShowRequestsModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 15\n    }\n  }, \"Review Requests\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 13\n    }\n  }, requestModalContent), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-secondary\",\n    onClick: () => setShowRequestsModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 15\n    }\n  }, \"Close\"))), historyModal)));\n} // Maps Redux State to Component Props\n\n\nconst mapStateToProps = state => ({\n  isLoading: state.auth.isLoading,\n  member: state.auth.member\n}); // Maps Redux Action Creators to Component Prop Functions\n\n\nconst mapDispatchToProps = dispatch => ({\n  loadMember: id => dispatch(actions.loadMember(id)),\n  showToast: (type, msg) => dispatch(toastActions.show(type, msg))\n}); // Connects Redux and Redux Mappings to Component\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(PointsLog));","map":{"version":3,"sources":["E:/Webpage/KTP/ktp-react/src/views/PointsLog.js"],"names":["React","useState","useEffect","moment","connect","withRouter","Button","Col","Container","Form","Modal","Row","Table","Api","Layout","actions","toastActions","PointsLog","props","members","setMembers","requests","setRequests","shouldUpdate","setShouldUpdate","roleFilter","setRoleFilter","showExcusedModal","setShowExcusedModal","showHoursModal","setShowHoursModal","showPointsModal","setShowPointsModal","showRequestsModal","setShowRequestsModal","showHistoryModal","setShowHistoryModal","excuseData","setExcuseData","date","format","description","hoursData","setHoursData","serviceHours","pointsData","setPointsData","points","historyData","setHistoryData","memberName","history","member","isLoading","push","getMembers","then","data","getRequests","handleFilter","role","closeHistory","git","showHistory","filter","req","submittedBy","approved","submitPoints","e","preventDefault","payload","type","value","name","submittedById","_id","submittedDate","createRequest","success","request","showToast","error","submitHours","submitExcuse","parseInt","replace","denyRequest","id","acceptRequest","pendingRequests","requestModalContent","length","color","map","cursor","toString","substring","historyModal","fontSize","fontWeight","margin","admin","span","offset","target","width","overflow","email","absences","marginRight","mapStateToProps","state","auth","mapDispatchToProps","dispatch","loadMember","msg","show"],"mappings":"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","sourcesContent":["// Packages\r\nimport React, { useState, useEffect } from 'react';\r\nimport moment from 'moment';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\n\r\n// Bootstrap\r\nimport Button from 'react-bootstrap/Button';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Table from 'react-bootstrap/Table';\r\n\r\n// Custom\r\nimport Api from '../services/KTPApi';\r\nimport Layout from './layouts/Layout';\r\nimport actions from '../redux/auth/actions';\r\nimport toastActions from '../redux/toast/actions';\r\n\r\nfunction PointsLog(props) {\r\n  // Component State\r\n  const [members, setMembers] = useState([]);\r\n  const [requests, setRequests] = useState([]);\r\n  const [shouldUpdate, setShouldUpdate] = useState(true);\r\n  const [roleFilter, setRoleFilter] = useState('Active');\r\n\r\n  // Modal Visibility\r\n  const [showExcusedModal, setShowExcusedModal] = useState(false);\r\n  const [showHoursModal, setShowHoursModal] = useState(false);\r\n  const [showPointsModal, setShowPointsModal] = useState(false);\r\n  const [showRequestsModal, setShowRequestsModal] = useState(false);\r\n  const [showHistoryModal, setShowHistoryModal] = useState(false);\r\n\r\n  // Modal State\r\n  const [excuseData, setExcuseData] = useState({ date: moment().format('YYYY-MM-DD'), description: '' });\r\n  const [hoursData, setHoursData] = useState({ serviceHours: 1, description: '' });\r\n  const [pointsData, setPointsData] = useState({ points: 1, description: '' });\r\n  const [historyData, setHistoryData] = useState({ memberName: null, history: [] });\r\n\r\n  useEffect(() => {\r\n    // Redirect if not authenticated\r\n    if (!props.member && !props.isLoading) {\r\n      props.history.push('/');\r\n    }\r\n\r\n    // Run API calls in parallel\r\n    // `shouldUpdate` used to prevent extra API calls\r\n    if (shouldUpdate) {\r\n      Api.getMembers()\r\n        .then(data => setMembers(data.members));\r\n\r\n      Api.getRequests()\r\n        .then(data => setRequests(data.requests));\r\n      \r\n      setShouldUpdate(false);\r\n    }\r\n  }, [props, shouldUpdate]);\r\n\r\n  // Handles filtering members by role\r\n  const handleFilter = member => {\r\n    switch (roleFilter) {\r\n      case 'Active':\r\n        return member.role !== 'Invactive' && member.role !== 'Alumni';\r\n      case 'Inactive':\r\n        return member.role === 'Inactive';\r\n      case 'Alumni':\r\n        return member.role === 'Alumni';\r\n      default:\r\n        return true;\r\n    }\r\n  }\r\n\r\n  // Closes History Modal and Clears its State\r\n  const closeHistory = () => {\r\n    setHistoryData({ memberName: null, history: [] });\r\n    setShowHistoryModal(false);git \r\n  }\r\n\r\n  // Filters requests to create a request history for a given user\r\n  // Sets History Modal and Data State\r\n  const showHistory = memberName => {\r\n    let history = requests.filter(req => req.submittedBy === memberName && req.approved === 1);\r\n    setHistoryData({ memberName, history });\r\n    setShowHistoryModal(true);\r\n  }\r\n\r\n  // Submit Brotherhood Points Form\r\n  const submitPoints = e => {\r\n    // Prevent form from sending its own HTTP request\r\n    e.preventDefault();\r\n\r\n    // Deconstruct fields from pointsData\r\n    const { points, description } = pointsData;\r\n    // Construct payload object\r\n    let payload = {\r\n      type: 'Brotherhood Points',\r\n      value: points,\r\n      description,\r\n      submittedBy: props.member.name,\r\n      submittedById: props.member._id,\r\n      submittedDate: moment().format('MM-DD-YYYY'),\r\n      approved: 0,\r\n    };\r\n\r\n    // Call API to create the request\r\n    Api.createRequest(payload)\r\n      .then(data => {\r\n        if (data.success) {\r\n          setRequests([...requests, data.request]);\r\n          setShowPointsModal(false);\r\n          props.showToast('success', 'Request Created');\r\n        } else {\r\n          props.showToast('error', data.error);\r\n        }\r\n      });\r\n  }\r\n\r\n  // Submits Service Hours Form\r\n  const submitHours = e => {\r\n    // Prevents form from sending its own HTTP request\r\n    e.preventDefault();\r\n\r\n    // Deconstruct fields from hoursData\r\n    const { serviceHours, description } = hoursData;\r\n    // Construt payload object\r\n    let payload = {\r\n      type: 'Service Hours',\r\n      value: serviceHours,\r\n      description,\r\n      submittedBy: props.member.name,\r\n      submittedById: props.member._id,\r\n      submittedDate: moment().format('MM-DD-YYYY'),\r\n      approved: 0\r\n    }\r\n\r\n    // Call API to create the request\r\n    Api.createRequest(payload)\r\n      .then(data => {\r\n        if (data.success) {\r\n          setRequests([...requests, data.request]);\r\n          setShowHoursModal(false);\r\n          props.showToast('success', 'Request Created');\r\n        } else {\r\n          props.showToast('error', data.error);\r\n        }\r\n      });\r\n  }\r\n\r\n  // Submits Excused Absence Form\r\n  const submitExcuse = e => {\r\n    // Prevents form from sending its own HTTP request\r\n    e.preventDefault();\r\n\r\n    // Deconstruct fields from excuseData\r\n    const { date, description } = excuseData;\r\n    // Convert date to an int for DB\r\n    let value = parseInt(date.replace(/-/g, ''));\r\n    // Construct payload object\r\n    let payload = {\r\n      type: 'Excused Absence',\r\n      value,\r\n      description,\r\n      submittedBy: props.member.name,\r\n      submittedById: props.member._id,\r\n      submittedDate: moment().format('MM-DD-YYYY'),\r\n      approved: 0\r\n    };\r\n\r\n    // Call API to create the request\r\n    Api.createRequest(payload)\r\n      .then(data => {\r\n        if (data.success) {\r\n          setRequests([...requests, data.request]);\r\n          setShowExcusedModal(false);\r\n          props.showToast('success', 'Request Created');\r\n        } else {\r\n          props.showToast('error', data.error);\r\n        }\r\n      });\r\n  }\r\n\r\n  // Handles Denying a Request\r\n  const denyRequest = id => {\r\n    Api.denyRequest(id)\r\n      .then(data => {\r\n        if (data.success) {\r\n          props.showToast('success', 'Request Denied');\r\n          setShouldUpdate(true);\r\n        } else {\r\n          props.showToast('error', data.error);\r\n        }\r\n      });\r\n  }\r\n\r\n  // Handles Accepting a Request\r\n  const acceptRequest = id => {\r\n    Api.acceptRequest(id, { approved: 1 })\r\n      .then(data => {\r\n        if (data.success) {\r\n          props.showToast('success', 'Request Accepted');\r\n          setShouldUpdate(true);\r\n        } else {\r\n          props.showToast('error', data.error);\r\n        }\r\n      });\r\n  }\r\n\r\n  // Only ender requests table if there ae pending requests\r\n  let pendingRequests = requests.filter(req => req.approved === 0);\r\n  let requestModalContent = pendingRequests.length > 0 ? (\r\n    <Table size='sm' hover bordered>\r\n      <thead>\r\n        <tr style={{ color: 'black' }}>\r\n          <th>Submitted By</th>\r\n          <th>Submitted On</th>\r\n          <th>Type</th>\r\n          <th>Value</th>\r\n          <th>Description</th>\r\n          <th>Accept/Deny</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {pendingRequests.map(req => (\r\n          <tr key={req._id} style={{ color: 'black' }}>\r\n            <td\r\n              data-toggle='tooltip'\r\n              data-placement='top'\r\n              title='Click for history'\r\n              style={{ cursor: 'pointer' }}\r\n              onClick={() => showHistory(req.submittedBy)}\r\n            >\r\n              { req.submittedBy }\r\n            </td>\r\n            <td>{ req.submittedDate }</td>\r\n            <td>{ req.type }</td>\r\n            {req.type === 'Excused Absence' ? (\r\n              <td>\r\n                { req.value.toString().substring(4, 6) }/\r\n                { req.value.toString().substring(6, 8) }/\r\n                { req.value.toString().substring(0, 4) }\r\n              </td>\r\n            ) : (\r\n              <td>{ req.value }</td>\r\n            )}\r\n            <td>{ req.description }</td>\r\n            <td>\r\n              <Button variant='outline-success' onClick={() => acceptRequest(req._id)}>Accept</Button>\r\n              <span> </span>\r\n              <Button variant='outline-danger' onClick={() => denyRequest(req._id)}>Deny</Button>\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </Table>\r\n  ) : (\r\n    <h3>No remaining requests</h3>\r\n  );\r\n\r\n  // Only render historyModal is data is set\r\n  let historyModal = historyData.memberName && (\r\n    <Modal show={showHistoryModal} onHide={closeHistory}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title style={{ fontSize: 18, fontWeight: 'lighter' }}>\r\n          History of Approved Requests for {historyData.memberName}\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {historyData.history.length > 0 ? (\r\n          <Table size='sm' hover bordered>\r\n            <thead>\r\n              <tr style={{ color: 'black' }}>\r\n                <th>Submitted On</th>\r\n                <th>Type</th>\r\n                <th>Value</th>\r\n                <th>Description</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {historyData.history.map(req => (\r\n                <tr key={req._id} style={{ color: 'black' }}>\r\n                  <td>{ req.submittedDate }</td>\r\n                  <td>{ req.type }</td>\r\n                  {req.type === 'Excused Absence' ? (\r\n                    <td>\r\n                      { req.value.toString().substring(4, 6) }/\r\n                      { req.value.toString().substring(6, 8) }/\r\n                      { req.value.toString().substring(0, 4) }\r\n                    </td>\r\n                  ) : (\r\n                    <td>{ req.value }</td>\r\n                  )}\r\n                  <td>{ req.description }</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        ) : (\r\n          <h3>No history yet</h3>\r\n        )}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant='outline-secondary' onClick={closeHistory}>Close</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n\r\n  return (\r\n    <div id='points-log' style={{ color: 'white' }}>\r\n      <Layout>\r\n        <div id='ktp-content'>\r\n          <Container>\r\n            <Col xs={12}>\r\n              <Row>\r\n                <div className='col-xs-20 text-center' style={{ margin: '0 auto' }}>\r\n                  <Button\r\n                    variant='info'\r\n                    size='sm'\r\n                    onClick={() => setShowExcusedModal(true)}\r\n                  >\r\n                    Submit Excused Absence\r\n                  </Button>\r\n                  <span> </span>\r\n                  <Button\r\n                    variant='info'\r\n                    size='sm'\r\n                    onClick={() => setShowHoursModal(true)}\r\n                  >\r\n                    Log Service Hours\r\n                  </Button>\r\n                  <span> </span>\r\n                  <Button\r\n                    variant='info'\r\n                    size='sm'\r\n                    onClick={() => setShowPointsModal(true)}\r\n                  >\r\n                    Log Brotherhood Points\r\n                  </Button>\r\n                  <span> </span>\r\n                  {props.member && props.member.admin ? (\r\n                    <>\r\n                      <Button variant='primary' size='sm' onClick={() => setShowRequestsModal(true)}>\r\n                        Review Requests\r\n                      </Button>\r\n                    </>\r\n                  ) : (\r\n                    <></>\r\n                  )}\r\n                </div>\r\n              </Row>\r\n              <br />\r\n              <Col xs={12}>\r\n                <Row>\r\n                  <Col xs={12} lg={5}>\r\n                    <h2>Fall 2020 Members</h2>\r\n                  </Col>\r\n                  <Col xs={7} lg={{ span: 1, offset: 4 }}>\r\n                    <h3>Filter: </h3>\r\n                  </Col>\r\n                  <Col xs={5} lg={2}>\r\n                    <Form.Control\r\n                      as='select'\r\n                      defaultValue={roleFilter}\r\n                      onChange={e => setRoleFilter(e.target.value)}\r\n                    >\r\n                      <option>Active</option>\r\n                      <option>Inactive</option>\r\n                      <option>Alumni</option>\r\n                    </Form.Control>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n              <Row style={{ width: '90vw', overflow: 'scroll' }}>\r\n                <Table size='sm' style={{ color: 'white' }} bordered>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Name</th>\r\n                      <th>Email</th>\r\n                      <th>Brotherhood Points <br /> (10 Min / Semester)</th>\r\n                      <th>Service Hours <br /> (5 Min / Semester)</th>\r\n                      <th>Unexcused Absences <br />  (2 Max / Semester)</th>\r\n                      <th>Role</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {members.filter(member => handleFilter(member)).map(member => (\r\n                      <tr key={member._id} onClick={() => showHistory(member.name)} style={{ cursor: 'pointer' }}>\r\n                        <td>{ member.name }</td>\r\n                        <td>{ member.email }</td>\r\n                        <td>{ member.points }</td>\r\n                        <td>{ member.serviceHours }</td>\r\n                        <td>{ member.absences }</td>\r\n                        <td>{ member.role }</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n              </Row>\r\n            </Col>\r\n          </Container>\r\n\r\n          {/* Excused Absence Modal */}\r\n          <Modal show={showExcusedModal} onHide={() => setShowExcusedModal(false)}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Submit Excused Absences</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <Form>\r\n                <Form.Group controlId='excuseDate'>\r\n                  <Form.Label>Date you'll be missing</Form.Label>\r\n                  <Form.Control\r\n                    type='date'\r\n                    defaultValue={excuseData.date}\r\n                    onChange={e => setExcuseData({ ...excuseData, date: e.target.value })}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group controlId='excuseDescription'>\r\n                  <Form.Label>Description</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='Why cant you make this event?'\r\n                    onChange={e => setExcuseData({ ...excuseData, description: e.target.value })}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button\r\n                variant='outline-secondary'\r\n                style={{ marginRight: 8 }}\r\n                onClick={() => setShowExcusedModal(false)}>\r\n                  Close\r\n                </Button>\r\n                <Button type='submit' onClick={submitExcuse} disabled={!excuseData.description}>Submit</Button> \r\n            </Modal.Footer>\r\n          </Modal>\r\n\r\n          {/* Service Hours Modal */}\r\n          <Modal show={showHoursModal} onHide={() => setShowHoursModal(false)}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Log Service Hours</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <Form>\r\n                <Form.Group controlId='hoursEarned'>\r\n                  <Form.Label>Service Hours Earned</Form.Label>\r\n                  <Form.Control\r\n                    type='number'\r\n                    defaultValue={hoursData.serviceHours}\r\n                    min={1}\r\n                    onChange={e => setHoursData({ ...hoursData, serviceHours: e.target.value })}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group controlId='hoursDescription'>\r\n                  <Form.Label>Description</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='What did you do to earn these service hours?'\r\n                    onChange={e => setHoursData({ ...hoursData, description: e.target.value })}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant='outline-secondary' style={{ marginRight: 8 }} onClick={() => setShowHoursModal(false)}>\r\n                Close\r\n              </Button>\r\n              <Button type='submit' onClick={submitHours} disabled={!hoursData.serviceHours || !hoursData.description}>\r\n                Submit\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n\r\n          {/* Brotherhood Points Modal */}\r\n          <Modal show={showPointsModal} onHide={() => setShowPointsModal(false)}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Log Brotherhood Points</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <Form>\r\n                <Form.Group controlId='pointsEarned'>\r\n                  <Form.Label>Points Earned</Form.Label>\r\n                  <Form.Control\r\n                    type='number'\r\n                    defaultValue={pointsData.points}\r\n                    min={1}\r\n                    onChange={e => setPointsData({ ...pointsData, points: e.target.value })}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group controlId='pointsDescription'>\r\n                  <Form.Label>Description</Form.Label>\r\n                  <Form.Control\r\n                    type='text'\r\n                    placeholder='What did you do to earn these points?'\r\n                    onChange={e => setPointsData({ ...pointsData, description: e.target.value })}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n              </Form>\r\n              <br />\r\n              <div>\r\n                <label style={{ color: 'black' }}>What constitutes a brotherhood point?</label>\r\n                <div>- Hanging out with other KTP members</div>\r\n                <div>- Attending a service event</div>\r\n                <div>- Attending a KTP event with a local company</div>\r\n                <div>- Attending a hackathon</div>\r\n                <div>- Going to a KTP social event</div>\r\n                <div>- Wearing our letters</div>\r\n                <div>- Contributing to the website</div>\r\n                <div>- Attending a career fair</div>\r\n                <div>- Recommend a friend to rush KTP</div>\r\n                <div>- Anything that benefits and/or spreads the word about our frat</div>\r\n                <br />\r\n                <div>Questions about what counts for a brotherhood point? Contact anyone on eboard and submit a request anyways!</div>\r\n              </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant='outline-secondary' style={{ marginRight: 8 }} onClick={() => setShowPointsModal(false)}>\r\n                Close\r\n              </Button>\r\n              <Button type='submit' onClick={submitPoints} disabled={!pointsData.description}>\r\n                Submit\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n\r\n          {/* Review Requests Modal */}\r\n          <Modal size='lg' show={showRequestsModal} onHide={() => setShowRequestsModal(false)}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Review Requests</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              {requestModalContent}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant='outline-secondary' onClick={() => setShowRequestsModal(false)}>\r\n                Close\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n\r\n          {/* Request History Modal */}\r\n          {historyModal}\r\n        </div>\r\n      </Layout>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Maps Redux State to Component Props\r\nconst mapStateToProps = state => ({\r\n  isLoading: state.auth.isLoading,\r\n  member: state.auth.member,\r\n});\r\n\r\n// Maps Redux Action Creators to Component Prop Functions\r\nconst mapDispatchToProps = dispatch => ({\r\n  loadMember: id => dispatch(actions.loadMember(id)),\r\n  showToast: (type, msg) => dispatch(toastActions.show(type, msg)),\r\n});\r\n\r\n// Connects Redux and Redux Mappings to Component\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(PointsLog));"]},"metadata":{},"sourceType":"module"}